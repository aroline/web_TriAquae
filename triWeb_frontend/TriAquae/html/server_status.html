{% extends "fmbase.html" %}
{% block page-content %}
<div id="page-content">
    <!-- page header -->
    <h1 id="page-header">Service Status</h1>

    <div class="fluid-container">
        
        <!-- widget grid -->
        <section id="widget-grid" class="">
            
            <!-- row-fluid -->
            <div class="row-fluid"> 
                <!-- article -->
                <article class="span6">
                    <!-- new widget -->
                    <!--
                    <div class="jarviswidget" id="widget-id-5" data-widget-refresh="15" data-widget-load="ajax/widget-ajax2.php">
                    -->
                    <div class="jarviswidget" id="widget-id-5" data-widget-refresh="15">
                        <header>
                            <h2>Hosts Status</h2>
                        </header>
                        <!-- wrap div --> 
                        <div>
                            {% include "editbox" %}
                            <div class="inner-spacer"> 
                                <!-- content goes here --> 
                                <table class="table text-left"> 
                                    <thead> 
                                        <tr> 
                                            <th>Status</th> 
                                            <th>Host</th> 
                                            <th>Availability</th> 
                                            <th>Last Check</th> 
                                        </tr> 
                                    </thead> 
                                    <tbody> 
                                        {% for host in latest_host_list %}
                                            {% ifequal host.host_status 'UP' %}
                                            <tr class="success"> 
                                            {% endifequal%}
                                            {% ifequal host.host_status 'DOWN' %}
                                            <tr class="error"> 
                                            {% endifequal%}
                                                <td>{{ host.host_status }}</td> 
                                                <td><a href="{% url 'status_detail' host.hostname %}">{{ host.hostname }}</a></td> 
                                                <td>{{ host.availability}}</td> 
                                                <td>{{ host.last_check|date:"Y-m-d H:i" }}</td> 
                                            </tr> 
                                        {% endfor %}
                                    </tbody> 
                                </table> 
                            </div> 
                            <!-- end content-->
                        </div> 
                        <!-- end wrap div --> 
                    </div> 
                    <!-- end widget --> 
                </article> 
                <!-- article -->
                <!--
                <article class="span5">
                    <div class="jarviswidget" id="widget-id-5">
                        <header>
                            <h2>Hosts Status</h2>
                        </header>
                        <div>
                            <div class="inner-spacer"> 
                                <table class="table text-left"> 
                                    <thead> 
                                        <tr> 
                                            <th>Status</th> 
                                            <th>Host</th> 
                                            <th>Last Check</th> 
                                            <th>Ping Status</th> 
                                        </tr> 
                                    </thead> 
                                    <tbody> 
                                        <tr class="success"> 
                                            <td>UP</td> 
                                            <td>host1</td> 
                                            <td>xxxx</td> 
                                            <td>xxxx</td> 
                                        </tr> 
                                        <tr class="error"> 
                                            <td>Down</td> 
                                            <td>TB - Monthly</td> 
                                            <td>02/04/2012</td> 
                                            <td>Declined</td> 
                                        </tr> 
                                        <tr class="warning"> 
                                            <td>3</td> 
                                            <td>TB - Monthly</td> 
                                            <td>03/04/2012</td> 
                                            <td>Pending</td> 
                                        </tr> 
                                        <tr class="info"> 
                                            <td>4</td> 
                                            <td>TB - Monthly</td> 
                                            <td>04/04/2012</td> 
                                            <td>Call in to confirm</td > 
                                        </tr> 
                                    </tbody> 
                                </table> 
                            </div> 
                        </div> 
                    </div> 
                </article> 
                                        -->
                <!-- end article --> 
            </div> 
            <!-- end row-fluid -->
        </section>
        <!-- end widget grid -->
    </div>      
</div>
<!-- end main content -->
{% endblock %}
